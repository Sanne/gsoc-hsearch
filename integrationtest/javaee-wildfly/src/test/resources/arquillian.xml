<?xml version="1.0" encoding="UTF-8"?>
<!--
 ~ Hibernate Search, full-text search for your domain model
 ~
 ~ License: GNU Lesser General Public License (LGPL), version 2.1 or later
 ~ See the lgpl.txt file in the root directory or <http://www.gnu.org/licenses/lgpl-2.1.html>.
  -->
<arquillian xmlns="http://jboss.org/schema/arquillian"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://jboss.org/schema/arquillian
        http://jboss.org/schema/arquillian/arquillian_1_0.xsd">

  <defaultProtocol type="Servlet 3.0" />

  <!-- Uncomment in order to inspect deployments -->
  <!--
  <engine>
    <property name="deploymentExportPath">target/deployments</property>
  </engine>
  -->

  <group qualifier="Grid" default="true">
    <container qualifier="container.active-1" mode="suite" default="true">
      <configuration>
        <property name="jbossHome">${project.build.directory}/node1/wildfly-${org.wildfly}</property>
        <!-- Needed for JMS tests -->
        <property name="serverConfig">standalone-full-testqueues.xml</property>
        <!-- <property name="javaVmArguments">-javaagent:${byteman.agent.path}=script:${byteman.script.path} -Xmx512m -Djava.net.preferIPv4Stack=true -Djgroups.bind_addr=127.0.0.1</property> -->
        <!-- To debug the Arquillian managed application server: -->
        <!-- property name="javaVmArguments">-javaagent:${byteman.agent.path}=script:${byteman.script.path} -Xrunjdwp:transport=dt_socket,address=5005,server=y,suspend=y -Xmx512m -Dorg.jboss.remoting-jmx.timeout=300  -Djava.net.preferIPv4Stack=true -Djgroups.bind_addr=127.0.0.1</property -->
          <!-- When using autoInstallAgent with WildFly, the com.sun.tools.attach
               package has to be exposed as a system package and tools.jar added
               to the bootstrap classpath. -->
          <property name="javaVmArguments">-Djboss.modules.system.pkgs=com.sun.tools.attach,org.jboss.byteman
                -Xbootclasspath/a:${path.tools_jar}
          </property>
      </configuration>
    </container>
  </group>

    <!-- Byteman extension -->
    <extension qualifier="byteman">
        <property name="autoInstallAgent">true</property>
        <property name="agentProperties">org.jboss.byteman.verbose=true</property>
    </extension>
</arquillian>
